#!/bin/sh
#
# Welcome to the DTC install maker !
# Maintainer: Thomas GOIRAND <thomas [ at ] goirand.fr>
# please do not ship with you packages
# this is only a small coder tool...
# $Source: /var/lib/cvs/dtc/bin/prepareDebianTree,v $
# $Date: 2006/11/08 20:29:51 $
# $Revision: 1.7 $

DSTDIR=..

VERS=`cat version`
RELS=`cat release`
if [ ""$VERS == "" ]; then
	VERS=0
fi
if [ ""$RELS == "" ]; then
	RELS=0
fi
VERSION=$VERS"-"$RELS
UNIX_TYPE=debian

echo " --- Updating DTC debian source package tree --- "

# now add the previous changelog we have checked in already
cat sources/debian/changelog >> ${DSTDIR}/debian/changelog

# Make the config file directory and script using standard
# plus debian specific scripts
cp -f sources/debian/config ${DSTDIR}/debian/config
cp -f sources/debian/config ${DSTDIR}/debian/dtc-postfix-courier.config
cp -f sources/debian/postinst ${DSTDIR}/debian/postinst
cp -f sources/debian/postinst ${DSTDIR}/debian/dtc-postfix-courier.postinst
cp -f sources/debian/templates ${DSTDIR}/debian/templates
cp -f sources/debian/templates ${DSTDIR}/debian/dtc-postfix-courier.templates
cp -f sources/debian/prerm ${DSTDIR}/debian/prerm
cp -f sources/debian/prerm ${DSTDIR}/debian/dtc-postfix-courier.prerm

cat sources/setup_mysql_db.sh >>${DSTDIR}/debian/postinst
cat sources/create_chroot.sh >>${DSTDIR}/debian/postinst
cat sources/configure_deamons.sh >>${DSTDIR}/debian/postinst
cat sources/uninstall_deamons.sh >>${DSTDIR}/debian/prerm
cat sources/setup_mysql_db.sh >>${DSTDIR}/debian/dtc-postfix-courier.postinst
cat sources/create_chroot.sh >>${DSTDIR}/debian/dtc-postfix-courier.postinst
cat sources/configure_deamons.sh >>${DSTDIR}/debian/dtc-postfix-courier.postinst
cat sources/uninstall_deamons.sh >>${DSTDIR}/debian/dtc-postfix-courier.prerm
